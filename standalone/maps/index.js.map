{"version":3,"sources":["index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","NUM_TO_ALPHA_MAP","Map","hexProcessor","seq","concat","arr","Array","isArray","arr2","from","_toConsumableArray","map","item","get","join","fromBase","toBase","value","num","base","TO_BASE","parseInt","regexPattern","toString","search","Number","isNaN","RESULT_SEQ","returnValue","power","placeValue","originalValue","Math","pow","push","floor","2","obj","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_converter","_converter2","__esModule","default","NumberSystem","arguments","undefined","instance","TypeError","_classCallCheck","this","BASE","indexOf","set","./lib/converter"],"mappings":"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","file":"../index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar NUM_TO_ALPHA_MAP = new Map([[15, 'f'], [14, 'e'], [13, 'd'], [12, 'c'], [11, 'b'], [10, 'a']]);\n\n// Adds prefix and replaces values greater than 9 with corresponding alphabet.\nvar hexProcessor = function hexProcessor(seq) {\n  return [0, 'x'].concat(_toConsumableArray(seq.map(function (item) {\n    return item < 10 ? item : NUM_TO_ALPHA_MAP.get(item);\n  }))).join('');\n};\n\n// Converts decimal values its target base equivalent.\nvar decimalTo = function decimalTo(base) {\n  return function (value) {\n    var RESULT_SEQ = [];\n    var returnValue = 0;\n    var power = 0;\n    var placeValue = 0;\n    var originalValue = value;\n\n    /*\n    Finds the highest place value in the target base that is less than\n    or equal to the original value.\n    */\n    while (originalValue >= base) {\n      originalValue /= base;\n      power += 1;\n    }\n\n    placeValue = Math.pow(base, power);\n    originalValue = value;\n\n    /*\n    Determines the digit that belongs to the current place value and appends to\n    the result sequence.\n    */\n    while (placeValue >= 1) {\n      RESULT_SEQ.push(Math.floor(originalValue / placeValue));\n      originalValue %= placeValue;\n      placeValue /= base;\n    }\n\n    // Transforms the results to a single string of valid target base value.\n    switch (base) {\n      case 16:\n        returnValue = hexProcessor(RESULT_SEQ);\n        break;\n      case 8:\n        returnValue = [0].concat(RESULT_SEQ).join('');\n        break;\n      default:\n        returnValue = RESULT_SEQ.join('');\n    }\n\n    return returnValue;\n  };\n};\n\n// Checks the validity of input with respect to the target base.\nvar isValid = function isValid(base) {\n  return function (value) {\n    var regexPattern = /()/;\n\n    switch (base) {\n      case 16:\n        regexPattern = /^(0x)?[abcdef0-9]+$/i;\n        break;\n      case 10:\n      case 8:\n        regexPattern = /^[0-9]+$/i;\n        break;\n      default:\n        regexPattern = /^[01]+$/i;\n    }\n\n    return value.toString().search(regexPattern) > -1;\n  };\n};\n\n/*\n  Wraps the decimalTo function converting the input value from a certain base\n  to a decimal value.\n*/\nvar converter = function converter(fromBase) {\n  return function (toBase) {\n    return function (value) {\n      var TO_BASE = parseInt(toBase, 10);\n      var num = 0;\n\n      if (!isValid(fromBase)(value)) throw new Error('Invalid value.');\n\n      num = parseInt(value, fromBase);\n      if (Number.isNaN(num)) throw new Error('Invalid value.');\n\n      return decimalTo(TO_BASE)(num);\n    };\n  };\n};\n\nmodule.exports = converter;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _converter = require('./lib/converter');\n\nvar _converter2 = _interopRequireDefault(_converter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NumberSystem = function () {\n  function NumberSystem() {\n    var fromBase = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n\n    _classCallCheck(this, NumberSystem);\n\n    var SUPPORTED_BASES = [2, 8, 10, 16];\n    var BASE = parseInt(fromBase, 10);\n\n    if (Number.isNaN(BASE) || SUPPORTED_BASES.indexOf(BASE) < 0) {\n      throw new Error('Base not supported. Use 2, 8, 10 or 16.');\n    }\n    this.fromBase = BASE;\n  }\n\n  // Converts a value from a certain base to binary (base 2).\n\n\n  _createClass(NumberSystem, [{\n    key: 'bin',\n    value: function bin(value) {\n      return (0, _converter2.default)(this.fromBase)(2)(value);\n    }\n\n    // Converts a value from a certain base to octal (base 8).\n\n  }, {\n    key: 'oct',\n    value: function oct(value) {\n      return (0, _converter2.default)(this.fromBase)(8)(value);\n    }\n\n    // Converts a value from a certain base to decimal (base 10).\n\n  }, {\n    key: 'dec',\n    value: function dec(value) {\n      return (0, _converter2.default)(this.fromBase)(10)(value);\n    }\n\n    // Converts a value from a certain base to hexadecimal (base 16).\n\n  }, {\n    key: 'hex',\n    value: function hex(value) {\n      return (0, _converter2.default)(this.fromBase)(16)(value);\n    }\n  }, {\n    key: 'base',\n    set: function set(fromBase) {\n      this.fromBase = fromBase;\n    },\n    get: function get() {\n      return this.fromBase;\n    }\n  }]);\n\n  return NumberSystem;\n}();\n\nmodule.exports = NumberSystem;\n\n},{\"./lib/converter\":1}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbGliL2NvbnZlcnRlci5qcyIsImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBLElBQU0sbUJBQW1CLElBQUksR0FBSixDQUFRLENBQy9CLENBQUMsRUFBRCxFQUFLLEdBQUwsQ0FEK0IsRUFDcEIsQ0FBQyxFQUFELEVBQUssR0FBTCxDQURvQixFQUNULENBQUMsRUFBRCxFQUFLLEdBQUwsQ0FEUyxFQUNFLENBQUMsRUFBRCxFQUFLLEdBQUwsQ0FERixFQUNhLENBQUMsRUFBRCxFQUFLLEdBQUwsQ0FEYixFQUN3QixDQUFDLEVBQUQsRUFBSyxHQUFMLENBRHhCLENBQVIsQ0FBekI7O0FBSUE7QUFDQSxJQUFNLGVBQWUsU0FBZixZQUFlO0FBQUEsU0FDbkIsQ0FDRSxDQURGLEVBQ0ssR0FETCw0QkFDYSxJQUNSLEdBRFEsQ0FDSjtBQUFBLFdBQVUsT0FBTyxFQUFSLEdBQWMsSUFBZCxHQUFxQixpQkFBaUIsR0FBakIsQ0FBcUIsSUFBckIsQ0FBOUI7QUFBQSxHQURJLENBRGIsR0FHRSxJQUhGLENBR08sRUFIUCxDQURtQjtBQUFBLENBQXJCOztBQU9BO0FBQ0EsSUFBTSxZQUFZLFNBQVosU0FBWTtBQUFBLFNBQVEsVUFBQyxLQUFELEVBQVc7QUFDbkMsUUFBTSxhQUFhLEVBQW5CO0FBQ0EsUUFBSSxjQUFjLENBQWxCO0FBQ0EsUUFBSSxRQUFRLENBQVo7QUFDQSxRQUFJLGFBQWEsQ0FBakI7QUFDQSxRQUFJLGdCQUFnQixLQUFwQjs7QUFFQTs7OztBQUlBLFdBQU8saUJBQWlCLElBQXhCLEVBQThCO0FBQzVCLHVCQUFpQixJQUFqQjtBQUNBLGVBQVMsQ0FBVDtBQUNEOztBQUVELDBCQUFhLElBQWIsRUFBcUIsS0FBckI7QUFDQSxvQkFBZ0IsS0FBaEI7O0FBRUE7Ozs7QUFJQSxXQUFPLGNBQWMsQ0FBckIsRUFBd0I7QUFDdEIsaUJBQVcsSUFB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QUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zdCBOVU1fVE9fQUxQSEFfTUFQID0gbmV3IE1hcChbXG4gIFsxNSwgJ2YnXSwgWzE0LCAnZSddLCBbMTMsICdkJ10sIFsxMiwgJ2MnXSwgWzExLCAnYiddLCBbMTAsICdhJ10sXG5dKTtcblxuLy8gQWRkcyBwcmVmaXggYW5kIHJlcGxhY2VzIHZhbHVlcyBncmVhdGVyIHRoYW4gOSB3aXRoIGNvcnJlc3BvbmRpbmcgYWxwaGFiZXQuXG5jb25zdCBoZXhQcm9jZXNzb3IgPSBzZXEgPT4gKFxuICBbXG4gICAgMCwgJ3gnLCAuLi5zZXFcbiAgICAgIC5tYXAoaXRlbSA9PiAoKGl0ZW0gPCAxMCkgPyBpdGVtIDogTlVNX1RPX0FMUEhBX01BUC5nZXQoaXRlbSkpKSxcbiAgXS5qb2luKCcnKVxuKTtcblxuLy8gQ29udmVydHMgZGVjaW1hbCB2YWx1ZXMgaXRzIHRhcmdldCBiYXNlIGVxdWl2YWxlbnQuXG5jb25zdCBkZWNpbWFsVG8gPSBiYXNlID0+ICh2YWx1ZSkgPT4ge1xuICBjb25zdCBSRVNVTFRfU0VRID0gW107XG4gIGxldCByZXR1cm5WYWx1ZSA9IDA7XG4gIGxldCBwb3dlciA9IDA7XG4gIGxldCBwbGFjZVZhbHVlID0gMDtcbiAgbGV0IG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuICAvKlxuICBGaW5kcyB0aGUgaGlnaGVzdCBwbGFjZSB2YWx1ZSBpbiB0aGUgdGFyZ2V0IGJhc2UgdGhhdCBpcyBsZXNzIHRoYW5cbiAgb3IgZXF1YWwgdG8gdGhlIG9yaWdpbmFsIHZhbHVlLlxuICAqL1xuICB3aGlsZSAob3JpZ2luYWxWYWx1ZSA+PSBiYXNlKSB7XG4gICAgb3JpZ2luYWxWYWx1ZSAvPSBiYXNlO1xuICAgIHBvd2VyICs9IDE7XG4gIH1cblxuICBwbGFjZVZhbHVlID0gYmFzZSAqKiBwb3dlcjtcbiAgb3JpZ2luYWxWYWx1ZSA9IHZhbHVlO1xuXG4gIC8qXG4gIERldGVybWluZXMgdGhlIGRpZ2l0IHRoYXQgYmVsb25ncyB0byB0aGUgY3VycmVudCBwbGFjZSB2YWx1ZSBhbmQgYXBwZW5kcyB0b1xuICB0aGUgcmVzdWx0IHNlcXVlbmNlLlxuICAqL1xuICB3aGlsZSAocGxhY2VWYWx1ZSA+PSAxKSB7XG4gICAgUkVTVUxUX1NFUS5wdXNoKE1hdGguZmxvb3Iob3JpZ2luYWxWYWx1ZSAvIHBsYWNlVmFsdWUpKTtcbiAgICBvcmlnaW5hbFZhbHVlICU9IHBsYWNlVmFsdWU7XG4gICAgcGxhY2VWYWx1ZSAvPSBiYXNlO1xuICB9XG5cbiAgLy8gVHJhbnNmb3JtcyB0aGUgcmVzdWx0cyB0byBhIHNpbmdsZSBzdHJpbmcgb2YgdmFsaWQgdGFyZ2V0IGJhc2UgdmFsdWUuXG4gIHN3aXRjaCAoYmFzZSkge1xuICAgIGNhc2UgMTY6XG4gICAgICByZXR1cm5WYWx1ZSA9IGhleFByb2Nlc3NvcihSRVNVTFRfU0VRKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgODpcbiAgICAgIHJldHVyblZhbHVlID0gWzAsIC4uLlJFU1VMVF9TRVFdLmpvaW4oJycpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVyblZhbHVlID0gUkVTVUxUX1NFUS5qb2luKCcnKTtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbi8vIENoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaW5wdXQgd2l0aCByZXNwZWN0IHRvIHRoZSB0YXJnZXQgYmFzZS5cbmNvbnN0IGlzVmFsaWQgPSBiYXNlID0+ICh2YWx1ZSkgPT4ge1xuICBsZXQgcmVnZXhQYXR0ZXJuID0gLygpLztcblxuICBzd2l0Y2ggKGJhc2UpIHtcbiAgICBjYXNlIDE2OlxuICAgICAgcmVnZXhQYXR0ZXJuID0gL14oMHgpP1thYmNkZWYwLTldKyQvaTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTA6XG4gICAgY2FzZSA4OlxuICAgICAgcmVnZXhQYXR0ZXJuID0gL15bMC05XSskL2k7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgcmVnZXhQYXR0ZXJuID0gL15bMDFdKyQvaTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnNlYXJjaChyZWdleFBhdHRlcm4pID4gLTE7XG59O1xuXG4vKlxuICBXcmFwcyB0aGUgZGVjaW1hbFRvIGZ1bmN0aW9uIGNvbnZlcnRpbmcgdGhlIGlucHV0IHZhbHVlIGZyb20gYSBjZXJ0YWluIGJhc2VcbiAgdG8gYSBkZWNpbWFsIHZhbHVlLlxuKi9cbmNvbnN0IGNvbnZlcnRlciA9IGZyb21CYXNlID0+IHRvQmFzZSA9PiAodmFsdWUpID0+IHtcbiAgY29uc3QgVE9fQkFTRSA9IHBhcnNlSW50KHRvQmFzZSwgMTApO1xuICBsZXQgbnVtID0gMDtcblxuICBpZiAoIWlzVmFsaWQoZnJvbUJhc2UpKHZhbHVlKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlLicpO1xuXG4gIG51bSA9IHBhcnNlSW50KHZhbHVlLCBmcm9tQmFzZSk7XG4gIGlmIChOdW1iZXIuaXNOYU4obnVtKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlLicpO1xuXG4gIHJldHVybiBkZWNpbWFsVG8oVE9fQkFTRSkobnVtKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVydGVyO1xuIiwiaW1wb3J0IGNvbnZlcnRlciBmcm9tICcuL2xpYi9jb252ZXJ0ZXInO1xuXG5jbGFzcyBOdW1iZXJTeXN0ZW0ge1xuICBjb25zdHJ1Y3Rvcihmcm9tQmFzZSA9IDEwKSB7XG4gICAgY29uc3QgU1VQUE9SVEVEX0JBU0VTID0gWzIsIDgsIDEwLCAxNl07XG4gICAgY29uc3QgQkFTRSA9IHBhcnNlSW50KGZyb21CYXNlLCAxMCk7XG5cbiAgICBpZiAoTnVtYmVyLmlzTmFOKEJBU0UpIHx8IFNVUFBPUlRFRF9CQVNFUy5pbmRleE9mKEJBU0UpIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYXNlIG5vdCBzdXBwb3J0ZWQuIFVzZSAyLCA4LCAxMCBvciAxNi4nKTtcbiAgICB9XG4gICAgdGhpcy5mcm9tQmFzZSA9IEJBU0U7XG4gIH1cblxuICAvLyBDb252ZXJ0cyBhIHZhbHVlIGZyb20gYSBjZXJ0YWluIGJhc2UgdG8gYmluYXJ5IChiYXNlIDIpLlxuICBiaW4odmFsdWUpIHtcbiAgICByZXR1cm4gY29udmVydGVyKHRoaXMuZnJvbUJhc2UpKDIpKHZhbHVlKTtcbiAgfVxuXG4gIC8vIENvbnZlcnRzIGEgdmFsdWUgZnJvbSBhIGNlcnRhaW4gYmFzZSB0byBvY3RhbCAoYmFzZSA4KS5cbiAgb2N0KHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRlcih0aGlzLmZyb21CYXNlKSg4KSh2YWx1ZSk7XG4gIH1cblxuICAvLyBDb252ZXJ0cyBhIHZhbHVlIGZyb20gYSBjZXJ0YWluIGJhc2UgdG8gZGVjaW1hbCAoYmFzZSAxMCkuXG4gIGRlYyh2YWx1ZSkge1xuICAgIHJldHVybiBjb252ZXJ0ZXIodGhpcy5mcm9tQmFzZSkoMTApKHZhbHVlKTtcbiAgfVxuXG4gIC8vIENvbnZlcnRzIGEgdmFsdWUgZnJvbSBhIGNlcnRhaW4gYmFzZSB0byBoZXhhZGVjaW1hbCAoYmFzZSAxNikuXG4gIGhleCh2YWx1ZSkge1xuICAgIHJldHVybiBjb252ZXJ0ZXIodGhpcy5mcm9tQmFzZSkoMTYpKHZhbHVlKTtcbiAgfVxuXG4gIHNldCBiYXNlKGZyb21CYXNlKSB7XG4gICAgdGhpcy5mcm9tQmFzZSA9IGZyb21CYXNlO1xuICB9XG5cbiAgZ2V0IGJhc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbUJhc2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOdW1iZXJTeXN0ZW07XG4iXX0=\n"]}